<div class="register-container">
    <h2>Đăng Ký</h2>
    
    <div *ngIf="successMessage" class="alert alert-success">
      {{ successMessage }}
    </div>
    
    <div *ngIf="errorMessage" class="alert alert-danger">
      {{ errorMessage }}
    </div>

    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
      <div class="form-group">
        <label>Họ</label>
        <input 
          formControlName="firstName" 
          type="text" 
          class="form-control"
          [class.is-invalid]="isFieldInvalid('firstName')"
        />
        <div class="invalid-feedback" *ngIf="isFieldInvalid('firstName')">
          {{ getErrorMessage('firstName') }}
        </div>
      </div>

      <div class="form-group">
        <label>Tên</label>
        <input 
          formControlName="lastName" 
          type="text" 
          class="form-control"
          [class.is-invalid]="isFieldInvalid('lastName')"
        />
        <div class="invalid-feedback" *ngIf="isFieldInvalid('lastName')">
          {{ getErrorMessage('lastName') }}
        </div>
      </div>

      <div class="form-group">
        <label>Số Điện Thoại</label>
        <input 
          formControlName="phoneNumber" 
          type="tel" 
          class="form-control"
          [class.is-invalid]="isFieldInvalid('phoneNumber')"
          placeholder="0123456789"
        />
        <div class="invalid-feedback" *ngIf="isFieldInvalid('phoneNumber')">
          {{ getErrorMessage('phoneNumber') }}
        </div>
      </div>

      <div class="form-group">
        <label>Email</label>
        <input 
          formControlName="email" 
          type="email" 
          class="form-control"
          [class.is-invalid]="isFieldInvalid('email')"
        />
        <div class="invalid-feedback" *ngIf="isFieldInvalid('email')">
          {{ getErrorMessage('email') }}
        </div>
      </div>

      <div class="form-group">
        <label>Địa Chỉ</label>
        <input 
          formControlName="address" 
          type="text" 
          class="form-control"
          [class.is-invalid]="isFieldInvalid('address')"
        />
        <div class="invalid-feedback" *ngIf="isFieldInvalid('address')">
          {{ getErrorMessage('address') }}
        </div>
      </div>

      <div class="form-group">
        <label>Ngày Sinh</label>
        <input 
          formControlName="dob" 
          type="date" 
          class="form-control"
          [class.is-invalid]="isFieldInvalid('dob')"
        />
        <div class="invalid-feedback" *ngIf="isFieldInvalid('dob')">
          {{ getErrorMessage('dob') }}
        </div>
      </div>

      <div class="form-group">
        <label>Tên Đăng Nhập</label>
        <input 
          formControlName="username" 
          type="text" 
          class="form-control"
          [class.is-invalid]="isFieldInvalid('username')"
        />
        <div class="invalid-feedback" *ngIf="isFieldInvalid('username')">
          {{ getErrorMessage('username') }}
        </div>
      </div>

      <div class="form-group">
        <label>Mật Khẩu</label>
        <input 
          formControlName="password" 
          type="password" 
          class="form-control"
          [class.is-invalid]="isFieldInvalid('password')"
        />
        <div class="invalid-feedback" *ngIf="isFieldInvalid('password')">
          {{ getErrorMessage('password') }}
        </div>
      </div>

      <div class="form-group">
        <label>Xác Nhận Mật Khẩu</label>
        <input 
          formControlName="confirmPassword" 
          type="password" 
          class="form-control"
          [class.is-invalid]="isFieldInvalid('confirmPassword')"
        />
        <div class="invalid-feedback" *ngIf="isFieldInvalid('confirmPassword')">
          {{ getErrorMessage('confirmPassword') }}
        </div>
      </div>

      <button 
        type="submit" 
        class="btn btn-primary w-100" 
        [disabled]="loading"
      >
        <span *ngIf="loading" class="spinner-border spinner-border-sm me-2"></span>
        {{ loading ? 'Đang đăng ký...' : 'Đăng Ký' }}
      </button>
    </form>

    <p class="mt-3 text-center">
      Đã có tài khoản?
      <a routerLink="/auth/login">Đăng nhập tại đây</a>
    </p>
  </div>
  